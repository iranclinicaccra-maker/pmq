# راهنمای نصب آسان و قدم به قدم (Simple Installation Guide)

این راهنما برای نصب برنامه روی سرور شما با آدرس **192.168.100.192** آماده شده است.

---

## قدم ۱: نصب پیش‌نیازها (Prerequisites)
روی سرور خود (کامپیوتر اصلی)، نرم‌افزارهای زیر را دانلود و نصب کنید (با تنظیمات پیش‌فرض):

1.  **Node.js**: [دانلود نسخه LTS](https://nodejs.org/en/download/)
2.  **PostgreSQL**: [دانلود نسخه ویندوز](https://www.postgresql.org/download/windows/)
    *   **مهم**: در هنگام نصب، پسوردی که برای دیتابیس می‌گذارید را یادداشت کنید. (پیشنهاد ما: `admin123`)

---

## قدم ۲: کپی کردن فایل‌ها
پوشه `web-server` را به درایو `C` یا `D` سرور خود کپی کنید.
مثلاً: `C:\MedicalPM\web-server`

---

## قدم ۳: ساخت دیتابیس (Database)
1. برنامه **pgAdmin 4** را (که با PostgreSQL نصب شده) باز کنید.
2. روی **Servers** کلیک راست کنید -> **Register** -> **Server**.
   *   Name: `Local`
   *   Connection -> Host: `localhost`
   *   Password: همان پسوردی که در قدم ۱ گذاشتید.
3. حالا روی **Databases** کلیک راست کنید -> **Create** -> **Database**.
4. نام آن را `pmq_database` بگذارید و **Save** را بزنید.

---

## قدم ۴: تنظیمات برنامه
1. به پوشه `web-server` بروید.
2. فایل `.env` را با Notepad باز کنید.
3. مقدار `DB_PASSWORD` را برابر با پسورد دیتابیس خود (قدم ۱) قرار دهید.
   *   مثال: `DB_PASSWORD=admin123`
4. فایل را ذخیره کنید و ببندید.

---

## قدم ۵: نصب و راه‌اندازی اولیه
1. منوی Start را باز کنید و تایپ کنید `cmd` و آن را باز کنید.
2. دستورات زیر را خط به خط تایپ کنید و Enter بزنید (فرض بر این است که پوشه را در `C:\MedicalPM\web-server` کپی کرده‌اید):

```bash
cd C:\MedicalPM\web-server
npm install
npm run migrate
```
*(صبر کنید تا هر دستور تمام شود. دستور آخر جدول‌های دیتابیس را می‌سازد.)*

---

## قدم ۶: باز کردن پورت در فایروال (مهم)
برای اینکه دیگران بتوانند به سرور وصل شوند:
1. دکمه Start را بزنید و تایپ کنید: `Firewall with Advanced Security` و باز کنید.
2. از سمت چپ روی **Inbound Rules** کلیک کنید.
3. از سمت راست روی **New Rule** کلیک کنید.
4. گزینه **Port** را انتخاب کنید و Next بزنید.
5. گزینه **TCP** و در کادر پایین **3000** را بنویسید و Next بزنید.
6. گزینه **Allow the connection** را انتخاب و Next بزنید.
7. تمام تیک‌ها (Domain, Private, Public) باشد و Next بزنید.
8. نام را `PMQ Server` بگذارید و Finish را بزنید.

---

## قدم ۷: اجرای برنامه
هر بار که می‌خواهید برنامه را اجرا کنید:
1. `cmd` را باز کنید.
2. بروید به پوشه برنامه (`cd C:\MedicalPM\web-server`).
3. دستور زیر را بزنید:
```bash
npm start
```

وقتی پیام `Server running on port 3000` را دیدید، یعنی سایت بالا آمده است!

---

## قدم ۸: ورود به برنامه
حالا از هر کامپیوتری در شبکه، مرورگر (کروم یا فایرفاکس) را باز کنید و آدرس زیر را وارد کنید:

**http://192.168.100.192:3000**

*   **نام کاربری**: `admin`
*   **رمز عبور**: `admin`
*(بعد از اولین ورود، رمز را عوض کنید)*
