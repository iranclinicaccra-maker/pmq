# راهنمای استقرار در Render.com

این راهنما برای آپلود پروژه روی سایت Render تنظیم شده است.

---

## قدم ۱: آپلود کد در GitHub
سایت Render باید کد شما را از یک مخزن (Repository) بخواند.
1. در سایت [GitHub.com](https://github.com) ثبت نام کنید.
2. یک مخزن جدید (New Repository) بسازید. (نام آن را مثلا `pmq-manager` بگذارید و Private باشد).
3. پوشه `web-server` را با استفاده از Git در این مخزن آپلود کنید.
   * اگر با Git آشنایی ندارید، می‌توانید از "GitHub Desktop" استفاده کنید.

## قدم ۲: ساخت دیتابیس در Render
1. به داشبورد [Render.com](https://dashboard.render.com) بروید.
2. دکمه **New +** را بزنید و **PostgreSQL** را انتخاب کنید.
3. نامی انتخاب کنید (مثلا `pmq-db`).
4. پلن **Free** را انتخاب کنید.
5. دکمه **Create Database** را بزنید.
6. وقتی ساخته شد، مقدار **Internal Database URL** را کپی کنید. (برای استفاده در قدم بعد).

## قدم ۳: ساخت وب سرور
1. در داشبورد Render، دکمه **New +** را بزنید و **Web Service** را انتخاب کنید.
2. گزینه **Build and deploy from a Git repository** را انتخاب کنید.
3. مخزن GitHub خود را متصل کنید.
4. تنظیمات زیر را وارد کنید:
   * **Name**: نام دلخواه (مثلا `pmq-app`)
   * **Region**: ترجیحاً همان منطقه‌ای که دیتابیس را ساختید (مثلا Frankfurt).
   * **Branch**: `main` (یا مستر).
   * **Root Directory**: `.` (خالی بگذارید یا نقطه).
   * **Runtime**: `Node`
   * **Build Command**: `npm run build`
   * **Start Command**: `npm start`
   
5. پایین‌تر، بخش **Environment Variables** را باز کنید و مقادیر زیر را اضافه کنید:
   * `NODE_ENV` = `production`
   * `DATABASE_URL` = *(همان آدرسی که در قدم ۲ کپی کردید)*
   * `SESSION_SECRET` = *(یک متن طولانی و امن بنویسید)*
   
6. دکمه **Create Web Service** را بزنید.

## پایان!
سایت شما بعد از چند دقیقه بیلد و دیپلوی می‌شود. آدرس آن (مثلا `https://pmq-app.onrender.com`) فعال خواهد شد.

---
### نکته مهم درباره فایل‌ها
در سرویس رایگان Render، فایل‌های آپلود شده (عکس تجهیزات) بعد از هر بار آپدیت یا ریستارت سرور پاک می‌شوند. برای حل این مشکل در آینده باید از سرویس‌های ذخیره‌سازی مثل AWS S3 یا Render Disk (پولی) استفاده کنید.
